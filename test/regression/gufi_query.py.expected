$ gufi_query.py --help
usage: gufi_query [options] GUFI_tree...
options:
  -h, --help                        help
  -H, --debug                       show assigned input values (debugging)
  -v, --version                     version
  -n, --threads <n>                 number of threads
  -I <SQL_init>                     SQL init
  -T <SQL_tsum>                     SQL for tree-summary table
  -S <SQL_sum>                      SQL for summary table
  -E <SQL_ent>                      SQL for entries table
  -J <SQL_interm>                   SQL for intermediate results
  -K <create aggregate>             SQL to create the final aggregation table
  -G <SQL_aggregate>                SQL for aggregated results
  -F <SQL_fin>                      SQL cleanup
  --dir-match-uid[=uid]             only traverse directories that are owned by uid (optional; default: euid)
  --dir-match-gid[=gid]             only traverse directories that are owned by gid (optional; default: egid)
  -a <0|1|2>                        0 - if returned row, run next SQL, else stop (continue descent) (default)
                                    1 - skip T, run S and E whether or not a row was returned (old -a)
                                    2 - run T, S, and E whether or not a row was returned
      --min-level <n>               minimum level to go down
      --max-level <n>               maximum level to go down
      --path-list <filename>        File containing paths at single level to walk (not including starting path). If --min-level > 0, prepend each line of the file with the index path.
  -p, --path <path>                 Source path prefix for %s in SQL
  -x, --query-xattrs                query xattrs
  -Q <basename>
     <table>
     <template>.<table>
     <view>                         External database file basename, per-attach table name, template + table name, and the resultant view
  -w, --read-write                  open the database files in read-write mode instead of read only mode
      --keep-matime                 Keep mtime and atime same on the database files
      --skip-file <filename>        file containing directory names to skip
  -d, --delim <c>                   delimiter (one char)  [use 'x' for 0x1E]
      --newline <c>                 character used to separate lines (default: '\n') [use 0 for NULL character]
      --suppress-newline            do not print the line separator
  -o, --output-file <out_fname>     output file (one-per-thread, with thread-id suffix)
  -O, --output-db <out_DB>          output DB
      --print-tlv                   prefix row with 1 int column count and each column with 1 octet type and 1 size_t length
      --terse                       print the information in terse form
      --output-buffer-size <bytes>  size of each thread's output buffer in bytes
      --target-memory <bytes>       target memory utilization (soft limit)
      --swap-prefix <path>          File name prefix for swap files
      --compress                    compress work items

GUFI_tree        find GUFI tree here


# Walk without returning results
$ gufi_query.py

# Get only directories
$ gufi_query.py -d " " -n 2 -S "SELECT name FROM vrsummary;"
directory
empty_directory
leaf_directory
prefix
subdirectory
unusual#? directory ,

# Get only non-directories
$ gufi_query.py -d " " -n 2 -E "SELECT name FROM vrpentries;"
.hidden
1KB
1MB
directory_symlink
executable
file_symlink
leaf_file1
leaf_file2
old_file
readonly
repeat_name
repeat_name
unusual, name?#
writable

# Get all directory and non-directory names
$ gufi_query.py -d " " -n 2 -S "SELECT name FROM vrsummary;" -E "SELECT name FROM vrpentries;"
.hidden
1KB
1MB
directory
directory_symlink
empty_directory
executable
file_symlink
leaf_directory
leaf_file1
leaf_file2
old_file
prefix
readonly
repeat_name
repeat_name
subdirectory
unusual#? directory ,
unusual, name?#
writable

