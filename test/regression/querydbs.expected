# Use gufi_query to generate per-thread result database files
$ gufi_query -n 2 -O "outdb" -I "CREATE TABLE out(name TEXT, size INT64)" -E "INSERT INTO out SELECT path(summary.name, summary.rollupscore) || '/' || pentries.name, pentries.size FROM summary, pentries WHERE (summary.inode == pentries.pinode) AND (pentries.type=='f');" "prefix"

# Query all per-thread result databse files at once
$ querydbs -d '|' -NV outdb "out" "SELECT name, size FROM vout ORDER BY size ASC, name ASC" outdb.*
name|size|
empty_file|0|
directory/executable|1|
directory/readonly|2|
directory/writable|3|
directory/subdirectory/repeat_name|4|
repeat_name|4|
.hidden|5|
leaf_directory/leaf_file1|6|
leaf_directory/leaf_file2|7|
old_file|8|
unusual#? directory ,/unusual, name?#|9|
1KB|1024|
1MB|1048576|
query returned 13 records

# Attach too many database files
$ querydbs -d '|' -NV outdb "out" "SELECT name, size FROM vout ORDER BY size ASC, name ASC" outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.* outdb.*
Cannot attach database as "outdb125": too many attached databases - max 125

